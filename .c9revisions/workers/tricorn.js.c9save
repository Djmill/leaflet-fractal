{"ts":1365422770008,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1365422773795,"patch":[[{"diffs":[[1,"var workerFunc = function(data,cb) {\r\n    \t\tvar scale = Math.pow(2, data.z - 1);\r\n\t\t\tvar x0 = data.x / scale - 1;\r\n\t\t\tvar y0 = data.y / scale - 1;\r\n\t\t\tvar d = 1/(scale<<8);\r\n\t\t\tvar pixels = new Array(262144);\r\n\t\t\tvar MAX_ITER=500;\r\n\t\t\tvar isOut,c,cx,cy,x,y,xn,yn,iii=0;\r\n\t\t\tfor (var py = 0; py < 256; py++) {\r\n\t\t\t\tfor (var px = 0; px < 256; px++) {\r\n\t\t\t\t\tcx = x0 + px*d;\r\n\t\t\t\t\tcy = y0 + py*d;\r\n\t\t\t\t\tx = 0; y = 0;\r\n\t\t\t\t\tisOut=0;\r\n\t\t\t\t\tfor (var iter = 0; iter < MAX_ITER; iter++) {\r\n\t\t\t\t\t\txn = x*x - y*y + cx;\r\n\t\t\t\t\t\tyn = ((x*y)*2) + cy;\r\n\t\t\t\t\t\tif (xn*xn + yn*yn > 4) {\r\n\t\t\t\t\t\t\tisOut=0.75;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tx = xn;\r\n\t\t\t\t\t\ty = yn;\r\n\t\t\t\t\t}\r\n\t\t\t\tc = (iter/MAX_ITER)*360;\r\n\t\t\t\t(function(h,s){\r\n\t\t\t\t\t//from http://schinckel.net/2012/01/10/hsv-to-rgb-in-javascript/\r\n\t\t\t\t\tvar v = 0.75;\r\n\t\t\t\t\tvar rgb, i, data = [];\r\n\t\t\t\t\tif (s === 0) {\r\n\t\t\t\t\t\trgb = [0.75, 0.1875, 0.75];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\th = h / 60;\r\n\t\t\t\t\t\ti = Math.floor(h);\r\n\t\t\t\t\t\tdata = [v*(1-s), v*(1-s*(h-i)), v*(1-s*(1-(h-i)))];\r\n\t\t\t\t\t\tswitch(i) {\r\n\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\trgb = [v, data[2], data[0]];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\trgb = [data[1], v, data[0]];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\trgb = [data[0], v, data[2]];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\t\trgb = [data[0], data[1], v];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\trgb = [data[2], data[0], v];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\trgb = [v, data[0], data[1]];\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tpixels[iii++]=(rgb[0]*255);\r\n\t\t\t\t\t\tpixels[iii++]=(rgb[1]*255);\r\n\t\t\t\t\t\tpixels[iii++]=(rgb[2]*255);\r\n\t\t\t\t\t\tpixels[iii++]=(255);\r\n\t\t\t\t\t\r\n\t\t\t\t})(c,c===360?0:0.75)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar array = new Uint8ClampedArray(pixels);\r\n \t\t\tvar buf = array.buffer;\r\n\t\t\tcb({pixels: buf},[buf]);\r\n\t\t}"]],"start1":0,"start2":0,"length1":0,"length2":1734}]],"length":1734,"saved":false}
{"ts":1365422852254,"patch":[[{"diffs":[[0,"]);\r\n\t\t}"],[1,"\r\nfunction callBack(a,b){\r\n    self.postMessage(a,b);\r\n}\r\nself.onmessage=function(e){\r\n    workerFunc(e.data,callback);\r\n};"]],"start1":1726,"start2":1726,"length1":8,"length2":131}]],"length":1857,"saved":false}
{"ts":1365423361485,"patch":[[{"diffs":[[0,"ata,call"],[-1,"b"],[1,"B"],[0,"ack);\r\n}"]],"start1":1839,"start2":1839,"length1":17,"length2":17}]],"length":1857,"saved":false}
{"ts":1365423407570,"patch":[[{"diffs":[[0,"els: buf"],[1,",id:data.id"],[0,"},[buf])"]],"start1":1712,"start2":1712,"length1":16,"length2":27}]],"length":1868,"saved":false}
{"contributors":[],"silentsave":false,"ts":1365424122947,"patch":[[{"diffs":[[0,"\t\t\t\t"],[-1,"\t"],[0,"xn ="],[1," "],[0," x*x"]],"start1":482,"start2":482,"length1":13,"length2":13},{"diffs":[[0,"y*y "],[-1,"+"],[1,"-"],[0," cx;\r\n"],[-1,"\t\t"],[1,"    "],[0,"\t\t\t\tyn ="],[-1," ((x*y)*2"],[1,"(x+x)*(-y"],[0,") + "]],"start1":498,"start2":498,"length1":34,"length2":36}]],"length":1870,"saved":false}
